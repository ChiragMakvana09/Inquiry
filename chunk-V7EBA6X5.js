import{N as g,R as c,S as n,T as a,U as u,a as v}from"./chunk-4HOK7LM6.js";import{R as s,ca as p,h as S,ha as d}from"./chunk-HV3O5WE3.js";var L=Object.freeze({LOGIN:"admin/user/login",FORGOT_PASSWORD:"admin/user/forget/password",CHANGED_PASSWORD:"admin/user/change/password",LOGOUT:"admin/user/logout",ADMIN_USER:"admin/user",ADMIN_CODE:"admin/code",CITY:"general/city",BANK:"general/bank",BRANCH:"general/branch",DEALER:"general/dealer",TALUKA:"general/taluka",DISTRICT:"general/district",ERR_CODE:"general/errorcode",DISTRCIT_BANK:"general/bank",SOFTWARE_TYPE:"general/softwareType",TALUKA_MASTER:"master/taluka",COMPANY:"company",COMPANY_LIST:"company/list",COMPANY_CODE:"company/code",COMPANY_PC_DATA:"company/pcdata",COMPANY_ERROR_DATA:"company/error/data",BILL:"bill",BILL_TYPE:"bill/type",BILL_SOCIETY:"bill/Society",BILL_PAYMENT_LIST:"bill/payment",NEW_BILL:"bill/newbill",BILL_COMPANY:"general/billcompany",SOCIET_DATA:"call/society",PC_STATUS:"call/pcstatus",APP_STATUS:"call/appstatus",PAYMENT_LIST:"bill/payment",BILL_REMARK:"bill/remarks",BILL_LIST:"bill/list",BILL_COLLECTION:"bill/collection",CRM_INQUIRY_LEAD:"crm/lead",CRM_INQUIRY_LIST:"crm/inquiry/list",CRM_CUSTOMER_LIST:"crm/customer/list",CRM_CUSTOMER:"crm/customer",CRM_FOLLOWUP:"crm/demoFollowup",TRANSCATION:""});var A=class h{constructor(r,e,t){this.http=r;this._sharedService=e;this.loaderService=t;this.userData=this._sharedService.getUserDetail();let i=""}userData;httpOptions;get(r,e,t,i){return t?(this.loaderService.show(),this.http.get(`${n.API_URL}${r}/`+t,{params:e,headers:this._sharedService.getHeaders()}).pipe(s(()=>{this.loaderService.hide()}))):i?(this.loaderService.show(),this.http.get(`${n.API_URL}${this.prepareserviceName(r,e,i)}`,{headers:this._sharedService.getHeaders()}).pipe(s(()=>{this.loaderService.hide()}))):(this.loaderService.show(),this.http.get(`${n.API_URL}${r}`,{params:e,headers:this._sharedService.getHeaders()}).pipe(s(()=>{this.loaderService.hide()})))}getLocal(r,e,t,i){return t?(this.loaderService.show(),this.http.get(`${r}/`+t,{params:e,headers:this._sharedService.getHeaders()}).pipe(s(()=>{this.loaderService.hide()}))):i?(this.loaderService.show(),this.http.get(`${this.prepareserviceName(r,e,i)}`,{headers:this._sharedService.getHeaders()}).pipe(s(()=>{this.loaderService.hide()}))):(this.loaderService.show(),this.http.get(`${r}`,{params:e,headers:this._sharedService.getHeaders()}).pipe(s(()=>{this.loaderService.hide()})))}postLocal(r,e,t){return this.loaderService.show(),this.http.post(`${r}`,e,{params:t,headers:this._sharedService.getHeaders()}).pipe(s(()=>{this.loaderService.hide()}))}putLocal(r,e,t={}){return this.loaderService.show(),this.http.put(`${r}/`+e,t,{headers:this._sharedService.getHeaders()}).pipe(s(()=>{this.loaderService.hide()}))}deleteLocal(r,e,t={}){return this.loaderService.show(),this.http.delete(`${r}/${e}`,{headers:this._sharedService.getHeaders(),body:t}).pipe(s(()=>{this.loaderService.hide()}))}getResponseText(r,e){return this.loaderService.show(),this.http.get(`${n.API_URL}${r}`,{params:e,responseType:"text"}).pipe(s(()=>{this.loaderService.hide()}))}getArrayBuffer(r,e){return this.loaderService.show(),this.http.get(`${n.API_URL}${r}`,{params:e,responseType:"arraybuffer"}).pipe(s(()=>{this.loaderService.hide()}))}getAssetJsonFile(r,e){return this.loaderService.show(),this.http.get(`${r}`,{params:e}).pipe(s(()=>{this.loaderService.hide()}))}post(r,e,t){e[c.OPERATION_KEY]=1;let i=a(JSON.stringify(e));return this.loaderService.show(),this.http.post(`${n.API_URL}${r}`,e,{params:t,headers:this._sharedService.getHeaders()}).pipe(s(()=>{this.loaderService.hide()}))}postResponseText(r,e){e[c.OPERATION_KEY]=1;let t=a(JSON.stringify(e));return this.loaderService.show(),this.http.post(`${n.API_URL}${r}`,e,{responseType:"text"}).pipe(s(()=>{this.loaderService.hide()}))}postProgress(r,e){e[c.OPERATION_KEY]=1;let t=a(JSON.stringify(e));return this.loaderService.show(),this.http.post(`${n.API_URL}${r}`,e,{reportProgress:!0,observe:"events"}).pipe(s(()=>{this.loaderService.hide()}))}put(r,e,t={}){t[c.OPERATION_KEY]=2;let i=a(JSON.stringify(t));return this.loaderService.show(),this.http.put(`${n.API_URL}${r}/`+e,t,{headers:this._sharedService.getHeaders()}).pipe(s(()=>{this.loaderService.hide()}))}putResponseText(r,e){e[c.OPERATION_KEY]=2;let t=a(JSON.stringify(e));return this.loaderService.show(),this.http.put(`${n.API_URL}${r}`,e,{responseType:"text"}).pipe(s(()=>{this.loaderService.hide()}))}delete(r,e,t={}){t[c.OPERATION_KEY]=3;let i=a(JSON.stringify(t));return this.loaderService.show(),this.http.delete(`${n.API_URL}${r}/${e}`,{headers:this._sharedService.getHeaders(),body:t}).pipe(s(()=>{this.loaderService.hide()}))}prepareserviceName(r,e,t){if(this.isEmpty(t)||(e.search=JSON.stringify(t)),Object.keys(e).length){let i=e?"?":"",l=0;for(let o in e)e.hasOwnProperty(o)&&(i+=l>0?"&"+o+"="+e[o]:o+"="+e[o],l++);return r+i}return r}isEmpty(r){for(let e in r)if(r.hasOwnProperty(e))return!1;return!0}getJson(r){return this.http.get(r)}postWithoutKey(r,e,t){let i=a(JSON.stringify(e));return this.loaderService.show(),this.http.post(`${n.API_URL}${r}`,e,{params:t,headers:this._sharedService.getHeaders()}).pipe(s(()=>{this.loaderService.hide()}))}putWithoutKey(r,e,t={}){let i=a(JSON.stringify(t));return this.loaderService.show(),this.http.put(`${n.API_URL}${r}/`+e,t,{headers:this._sharedService.getHeaders()}).pipe(s(()=>{this.loaderService.hide()}))}deleteWithoutKey(r,e,t={}){let i=a(JSON.stringify(t));return this.loaderService.show(),this.http.delete(`${n.API_URL}${r}/${e}`,{headers:this._sharedService.getHeaders(),body:t}).pipe(s(()=>{this.loaderService.hide()}))}static \u0275fac=function(e){return new(e||h)(d(v),d(u),d(g))};static \u0275prov=p({token:h,factory:h.\u0275fac,providedIn:"root"})};var O=class h{constructor(){}base64UrlToUint8Array(r){for(r=r.replace(/-/g,"+").replace(/_/g,"/");r.length%4;)r+="=";let e=atob(r),t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}hexToUint8Array(r){if(!r||r.length%2!==0)throw new Error("Invalid hex string");let e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++)e[t]=parseInt(r.substr(t*2,2),16);return e}decryptToken(r,e){return S(this,null,function*(){if(!r)throw new Error("Missing token");if(!e||e.length!==32)throw new Error("keyHex must be 32 hex chars (16 bytes)");let t=this.base64UrlToUint8Array(r),i=t.slice(0,12),l=t.slice(12,28),o=t.slice(28),y=new Uint8Array(o.length+l.length);y.set(o,0),y.set(l,o.length);let _=new Uint8Array(y).buffer,f=new Uint8Array(i).buffer,b=yield window.crypto.subtle.importKey("raw",new Uint8Array(this.hexToUint8Array(e)),{name:"AES-GCM"},!1,["decrypt"]),T=yield window.crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(f),tagLength:128},b,_),m=new TextDecoder().decode(T);return JSON.parse(m)})}static \u0275fac=function(e){return new(e||h)};static \u0275prov=p({token:h,factory:h.\u0275fac,providedIn:"root"})};export{L as a,A as b,O as c};
